## DDMoney App
 
    一个使用react全家桶(react,react-dom,redux,react-redux,react-router-dom)开发的小型SPA。
        其中react,react-dom均使用最新版（当前v16.3），路由使用v4版本。
        除了上述提到的依赖，还可能用到thunk-redux等其他依赖，后边开发时候详细标明。
    一个开源的基金查看类SPA。也是作者的第一个开源react-app,该项目比较简单，目前只涉及查询功能，后续将会添加更多功能。
    作者最近正在学习react全家桶，各部分独立的学习感觉到并不能很连贯的开发。所以用这么一个小东西更深入的学习。
    熟能生巧，巧能生妙---自勉。

##API整理
  
  API是从[天天基金网](http://fund.eastmoney.com/)直接扒过来的，项目通过nginx反向代理解决了资源跨域的问题，因开发项目时，作者的py还并没学完，所以只能暂时通过nginx反向代理解决接口问题，后边等学完python应该会将接口改成后台请求。

###下面介绍API详细内容
  
  1.最新日期基金估值
    
    接口地址  http://fundgz.1234567.com.cn/js/{001790/*基金代码*/}.js?rt={1463558676006/*timeStamp*/}

    注意这个在天天基金网中是以js文件的形式通过script引入的，而且是通过jsonp格式解析给前端，callback名字固定为`jsonpgz`,所以在使用的时候我们要注意此处的数据接收方式。
    接口参数：1.基金代码，[2.时间戳]
```javascript
返回的数据格式如下：
jsonpgz({
    "fundcode":"001790",
    //基金代码
    "name":"国泰智能汽车股票",
    //基金名称
    "jzrq":"2018-04-26",
    //基金积累日期
    "dwjz":"0.9220",
    //基金单位净值
    "gsz":"0.9184",
    //基金估值
    "gszzl":"-0.39",
    //基金估值增长率
    "gztime":"2018-04-27 15:00"
    //基金估值日期
});
```
    当基金代码不存在或格式错误时，返回错误页面。

2.某项基金详情

  接口地址  http://fund.eastmoney.com/pingzhongdata/{001186/*基金代码*/}.js?v={1463558676006/*timeStamp*/}
  接口参数  1.基金代码，[2.时间戳]
```javascript
返回js文件内容如下
/**
 * 测试数据
 * @type {arry}
 */
/*2018-05-01 19:11:37*/
var ishb=false;
/*基金或股票信息*/
var fS_name = "富国文体健康股票";
var fS_code = "001186";
/*原费率*/
var fund_sourceRate="1.50";
/*现费率*/
var fund_Rate="0.15";
//最小申购金额
var fund_minsg="100";

/*基金持仓股票代码*/
var stockCodes=["0024192","6003371","3001882","6005211","6000851","0020272","0024542","0020442","0021852","0020012"];
/*基金持仓债券代码*/
var zqCodes="0180051,0103031,1230082";
/*收益率*/
/*近一年收益率*/
var syl_1n="30.559";
/*近6月收益率*/
var syl_6y="7.9055";
/*近三月收益率*/
var syl_3y="0.0952";
/*近一月收益率*/
var syl_1y="-1.4995";
/*股票仓位测算图*/
var Data_fundSharesPositions = [[1522598400000,95.00],[1522684800000,95.00],[1522771200000,95.00],[1523203200000,95.00],[1523289600000,99.9100],[1523376000000,98.6700],[1523462400000,97.5800],[1523548800000,92.4200],[1523808000000,90.3700],[1523894400000,95.00],[1523980800000,95.00],[1524067200000,95.00],[1524153600000,95.00],[1524412800000,95.00],[1524499200000,95.00],[1524585600000,95.00],[1524672000000,95.00]];
/*单位净值走势 equityReturn-净值回报 unitMoney-每份派送金*/
var Data_netWorthTrend = [{"x":1430841600000,"y":1.0,"equityReturn":0,"unitMoney":""},...];
/*累计净值走势*/
var Data_ACWorthTrend = [[1430841600000,1.0],...];
/*累计收益率走势*/
var Data_grandTotal = [
            {"name":"富国文体健康股票","data":[[1509033600000,0],...]},
            {"name":"同类平均","data":[[1509033600000,0],...]},
            {"name":"沪深300","data":[[1509033600000,0],...]}
        ];
/*同类排名走势*/
var Data_rateInSimilarType = [{"x":1438790400000,"y":383,"sc":"410"},...];
/*同类排名百分比*/
var Data_rateInSimilarPersent=[[1438790400000,6.5900],...];
/*规模变动 mom-较上期环比*/
var Data_fluctuationScale = {"categories":["2017-03-31","2017-06-30","2017-09-30","2017-12-31","2018-03-31"],"series":[{"y":20.72,"mom":"-1.66%"},{"y":20.50,"mom":"-1.08%"},{"y":21.35,"mom":"4.16%"},{"y":20.07,"mom":"-5.99%"},{"y":15.80,"mom":"-21.27%"}]};
/*持有人结构*/
var Data_holderStructure ={"series":[{"name":"机构持有比例","data":[0,0.0,0.0,0]},{"name":"个人持有比例","data":[100.0,100.0,100.0,100.0]},{"name":"内部持有比例","data":[0.0042,0.004,0.0028,0.0041]}],"categories":["2016-06-30","2016-12-31","2017-06-30","2017-12-31"]};
/*资产配置*/
var Data_assetAllocation = {"series":[{"name":"股票占净比","type":null,"data":[84.78,87.88,84.51,86.15],"yAxis":0},{"name":"债券占净比","type":null,"data":[0,0,0,2.18],"yAxis":0},{"name":"现金占净比","type":null,"data":[15.71,7.06,11.79,8.07],"yAxis":0},{"name":"净资产","type":"line","data":[20.4964753577,21.34862788,20.0697573689,15.8017328892],"yAxis":1}],"categories":["2017-06-30","2017-09-30","2017-12-31","2018-03-31"]};
/*业绩评价 ['选股能力', '收益率', '抗风险', '稳定性','择时能力']*/
var Data_performanceEvaluation = {"avr":"82.50","categories":["选证能力","收益率","抗风险","稳定性","择时能力"],"dsc":["反映基金挑选证券而实现风险\u003cbr\u003e调整后获得超额收益的能力","根据阶段收益评分，反映基金的盈利能力","反映基金投资收益的回撤情况","反映基金投资收益的波动性","反映基金根据对市场走势的判断，\u003cbr\u003e通过调整仓位及配置而跑赢基金业\u003cbr\u003e绩基准的能力"],"data":[80.0,90.0,100.0,60.0,70.0]};
/*现任基金经理*/
var Data_currentFundManager =[{"id":"30339268","pic":"https://pdf.dfcfw.com/pdf/H8_GIF30339268_1.jpg","name":"林庆","star":5,"workTime":"2年又361天","fundSize":"15.80亿(1只基金)","power":{"avr":"84.11","categories":["经验值","收益率","抗风险","稳定性","择时能力"],"dsc":["反映基金经理从业年限和管理基金的经验","根据基金经理投资的阶段收益评分，反映\u003cbr\u003e基金经理投资的盈利能力","反映基金经理投资的回撤控制能力","反映基金经理投资收益的波动","反映基金经理根据对市场的判断，通过\u003cbr\u003e调整仓位及配置而跑赢业绩的基准能力"],"data":[58.90,97.90,91.50,51.0,88.40],"jzrq":"2018-04-27"},"profit":{"categories":["任期收益","同类平均","沪深300"],"series":[{"data":[{"name":null,"color":"#7cb5ec","y":5.1},{"name":null,"color":"#414c7b","y":-11.59},{"name":null,"color":"#f7a35c","y":-17.49}]}],"jzrq":"2018-04-27"}}] ;
/*申购赎回*/
var Data_buySedemption ={"series":[{"name":"期间申购","data":[0.12,0.16,1.37,0.66]},{"name":"期间赎回","data":[1.22,1.91,4.76,5.23]},{"name":"总份额","data":[24.50,22.75,19.36,14.79]}],"categories":["2017-06-30","2017-09-30","2017-12-31","2018-03-31"]};
/*同类型基金涨幅榜（页面底部通栏）*/
var swithSameType = [['161616_融通医疗保健行业混合_9.78','000727_融通健康产业灵活配置_9.74','001645_国泰大健康股票_8.26','005176_富国精准医疗混合_7.91','000960_招商医药健康产业股票_7.88'],['161616_融通医疗保健行业混合_18.91','005176_富国精准医疗混合_18.16','000220_富国医疗保健行业混合_17.60','519767_交银科技创新灵活配置_16.47','001071_华安媒体互联网混合_16.08'],['001508_富国新动力灵活配置混_22.92','001510_富国新动力灵活配置混_22.66','003096_中欧医疗健康混合C_21.15','003095_中欧医疗健康混合A_20.68','399011_中海医疗保健主题股票_19.30'],['519772_交银新生活力灵活配置_54.14','003096_中欧医疗健康混合C_43.32','003095_中欧医疗健康混合A_43.29','399011_中海医疗保健主题股票_42.52','002803_东方红沪港深混合_39.63'],['169101_东方红睿丰混合_83.96','519156_新华行业灵活配置混合_78.96','519732_交银定期支付双息平衡_68.53','000619_东方红产业升级混合_67.13','519697_交银优势行业混合_61.03']];

```
3.基金详情中股票代码列表内容接口

    接口地址：http://nufm3.dfcfw.com/EM_Finance2014NumericApplication/JS.aspx?type=CT&cmd={6008851,0024662,3001242,6017991,6031791,0020502,3005682,3000372,0027092,0021792/*持仓股票代码*/}&sty={E1OQCPZT}&st=z&sr=&p=&ps=&cb=&token={8a36403b92724d5d1dd36dc40534aec5/*token*/}
    接口参数：
        1.持仓股票代码列表，
        2.查询类型
            E1OQ为持仓债券
            E1OQCPZT为持仓股票
        3.客户端token
```javascript
返回数据格式
    [
        "1,600885,宏发股份,36.71,-2.03%,29.26",
        "2,002466,天齐锂业,52.60,0.96%,22.75",
        "2,300124,汇川技术,32.82,-0.24%,69.49",
        "1,601799,星宇股份,51.64,1.33%,27.23",
        "1,603179,新泉股份,35.19,-0.76%,18.71",
        "2,002050,三花智控,15.65,-2.61%,33.41",
        "2,300568,星源材质,30.21,-0.98%,16.21",
        "2,300037,新宙邦,18.63,3.56%,34.06",
        "2,002709,天赐材料,40.59,-3.43%,8.38",
        "2,002179,中航光电,38.80,-2.78%,45.84"
    ];
    //数组中每项的字符串内容分别是
    /*
    1.上市地
        1代表上证
        2代表深证
    2.股票代码
    3.股票名称
    4.当前股票最新股价
    5.涨跌幅
    6.股票市盈率

    返回值有可能是错误地址也可能会是空数组，在使用的时候注意判断。

    */
```

3.全部基金产品列表接口

    接口地址： http://fund.eastmoney.com/js/fundcode_search.js

```javascript
    //返回数据类型
    /*
        接口返回的是一个js文本，将内容赋值给全局变量r，并不是严格的json数据格式。这个网站的接口....有点老啊
    */

    var r=[["000001", "HXCZ", "华夏成长", "混合型", "HUAXIACHENGZHANG"],...];
    
    /*
        其中每项的内容
            1.基金代码
            2.基金全拼手写
            3.基金中文名
            4.基金类型
            5.基金大写拼音全拼
    */
